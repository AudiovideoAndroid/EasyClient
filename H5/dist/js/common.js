function formatDateTime(a,b,c){return a?new Date(a).format("yyyy-MM-dd HH:mm:ss"):""}function formatDate(a,b,c){return a?new Date(a).format("yyyy-MM-dd"):""}function formatLink(a,b,c){return"<a href='{0}'>{1}</a>".format(a,a)}function formatSize(a,b,c){function d(a,b){if(a>=0){var c=parseInt(a*Math.pow(10,b)+.5)/Math.pow(10,b);return c}numberRound1=-a;var c=parseInt(numberRound1*Math.pow(10,b)+.5)/Math.pow(10,b);return-c}if(!a||a<0)return"0 Bytes";var e=new Array("Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"),c=0,f=parseFloat(a),g=d(f/Math.pow(1024,c=Math.floor(Math.log(f)/Math.log(1024))),2);return g+e[c]}function isPC(){var a=navigator.userAgent.toLowerCase(),b=["android","iphone","symbianos","windows phone","ipad","ipod"],c=!0;for(var d in b)if(a.indexOf(b[d])>0){c=!1;break}return c}function fixHover(){var a="ontouchstart"in document.documentElement||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0;if(a)for(var b=document.styleSheets.length-1;b>=0;b--){var c=document.styleSheets[b];if(c.cssRules)for(var d=c.cssRules.length-1;d>=0;d--){var e=c.cssRules[d];e.selectorText&&(e.selectorText=e.selectorText.replace(":hover",":active"),e.selectorText=e.selectorText.replace(":focus",":active"))}}}Date.prototype.format=function(a){var b={"M+":this.getMonth()+1,"d+":this.getDate(),"H+":this.getHours(),"h+":this.getHours()%12,"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var c in b)new RegExp("("+c+")").test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?b[c]:("00"+b[c]).substr((""+b[c]).length)));return a},String.prototype.format=function(a){var b=this;if(arguments.length>0)if(1==arguments.length&&"object"==typeof a){for(var c in a)if(void 0!=a[c]){var d=new RegExp("({"+c+"})","g");b=b.replace(d,a[c])}}else for(var e=0;e<arguments.length;e++)if(void 0!=arguments[e]){var d=new RegExp("({)"+e+"(})","g");b=b.replace(d,arguments[e])}return b},$(function(){fixHover(),$.extend($.gritter.options,{class_name:"gritter-error",position:"bottom-right",fade_in_speed:100,fade_out_speed:100,time:1e3}),$(".content-wrapper").on("transitionend",function(){$("table.easyui-datagrid").each(function(a){$(this).datagrid("resize")})}),$(".main-header").on("transitionend",function(){$.AdminLTE.layout.fix(),$(".main-sidebar").css("padding-top",$(".main-header").outerHeight())}),$.AdminLTE.layout.fix(),$(document).on("click",".sidebar-toggle",function(){$(".main-sidebar").css("padding-top",$(".main-header").outerHeight())}),"undefined"!=typeof errorMsg&&errorMsg&&$.gritter.add({text:errorMsg}),$(document).ajaxSuccess(function(){$("body").removeClass("hide")}),$(document).ajaxError(function(a,b,c,d){if(401==b.status)return $.cookie("token","",{expires:-1}),$.cookie("username","",{expires:-1}),top.location.href="/login.html",!1;404==b.status&&(b.responseText="请求服务不存在或已停止");var e=b.responseText;try{e=JSON.parse(e)}catch(a){}"undefined"!=typeof e&&e&&$.gritter.add({text:e})}),$(document).on("shown.bs.modal",".modal",function(){}).on("hidden.bs.modal",".modal",function(a){$(this).find("form").each(function(){$(this)[0].reset()}),$(this).find("input:hidden").val("")}).on("show.bs.modal",".modal",function(a){$(this).find(".form-group").removeClass("has-error").removeClass("has-success"),$(this).find(".with-errors").empty()}),$(document).ajaxStart(function(){$(".modal:visible .btn-primary").prop("disabled",!0).attr("data-ajaxing","true")}).ajaxComplete(function(){$(".btn-primary:disabled[data-ajaxing=true]").prop("disabled",!1).removeAttr("data-ajaxing")});var a=$("ul.sidebar-menu");a.find("li").removeClass("active"),$link=a.find("li a[href='{0}']".format(location.pathname)).first(),1==$link.size()&&$link.parents("ul.sidebar-menu li").addClass("active"),$("form[data-toggle=validator]").attr("data-disable","false").attr("autocomplete","off"),$("form[data-toggle=validator]").validator().on("submit",function(a){var b=$(this);a.isDefaultPrevented()&&b.find(".form-group.has-error:first").find("input:visible").focus()}),$(document).on("keydown","form[data-toggle=validator]",function(a){if(13==a.keyCode)return!1}),$("input[data-toggle=integer]").inputNumber(),$(".modal.fade").attr("data-backdrop","static")});